% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/obs_density.R
\name{obs_density}
\alias{obs_density}
\title{Calculates the density of emissions observations}
\usage{
obs_density(data, xvals = NULL, up = Inf, low = 0, kernel = "gamma", bw = NULL)
}
\arguments{
\item{data}{Emissions data from either the best source or top performers,
must have a column named \code{emissions}.}

\item{xvals}{Ordered sequence of emissions to define emission densities along.
Default is \code{NUL}L, in which case \code{xvals} is a 1024 length sequence.
between \code{0} and \code{3*max(data$emissions)}.}

\item{up}{Optional upper limit to bound density, default is \code{Inf}.}

\item{low}{Optional lower limit to bound density, default is \code{0}.}

\item{kernel}{Kernel choice for density function, default is \code{gamma} defined
on \verb{(0,Inf)}. Other options include:
\code{c('gaussian1','gaussian2','beta1','beta2','fb','fbl','fbu','rigaussian')}.
See \code{\link[np:npuniden.boundary]{np::npuniden.boundary()}} for more information on kernel options.}

\item{bw}{Optional bandwidth, default is \code{NULL} in which case
\code{bw = sd(emissions)*n^(-2/5)}, where \code{n} is number of emissions. The bandwidth
can also be provided manually, or searched for using least squares cross-validation
by \code{bw = "cv.ls"} or likelihood cross-validation with \code{bw = "cv.ml"}.}
}
\value{
A list containing two tibbles, \code{Obs_onPoint} with exact emission
observations and densities, and \code{obs_den_df} with densities for every
position given in \code{xvals}.
}
\description{
Calculates the density of emissions observations
}
\references{
Bandwidth is set following Renault O. & O. Scaillet. On the way
to recovery: A parametric bias free estimation of recovery rate densities.
2004. Journal of Banking and Finance. 28:12 p. 2915-2931.
}
